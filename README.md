# Stack

- Front
  - React Hooks
  - Redux + Redux saga
  - Styled components
  - Ant Design
- Backend
  - Node
  - Express
  - Sequelize (MySQL)
  - SWR
  - Next.js (SSR)
- DevOps
  - AWS
    - EC2
    - Lambda
    - S3
    - Route53

# Note

## Intro

- 가상의 백엔드와 협업해보기

  - 시간적 손실 방지
  - 백엔드 개발자가 API 만들어주기까지 대기하는 것 보다 Dummy Data와 함께 프론트 화면 만들기
  - 가상의 State 만들기 (실무에서는 Redux나 MobX 상태관리)

  <br>

## SSR, CSR and Next.JS

<br>

- 전통적인 <b>SSR</b> 방식
  - 모든 데이터가 매핑된 서비스 페이지를 클라이언트(브라우저)에게 바로 보여줄 수 있다.
  - 왕복과정이 복잡하다.
  - 브라우저 (/blog 요청 ) -> 프론트 서버 (/post 게시글 요청) -> 백엔드 서버 (실제 게시글 data 요청) -> 데이터 베이스 (data 받아서 보내준다) -> 백엔드 서버 -> 프론트 서버(data 와 html 합쳐서 보내준다) -> 브라우저
  - 장점
    - 전체적으로 사용자에게 보여주는 콘텐츠 구성이 완료되는 시점은 빨라진다
    - SEO (search engine optimization) 쉽게 구성
  - 단점
    - 서버를 이용해서 페이지를 구성하기 때문에 클라이언트에서 구성하는 CSR(client-side rendering)보다 페이지를 구성하는 속도는 늦어진다.
- <b>SPA</b> 방식 (CSR)

  - SPA에서 페이지 넘어가는 것은 눈속임이다.

  - 브라우저가 프론트엔드 서버에서 어떤 페이지를 요청하든 하나의 js, html, css, img 받아온다 <b>data 없이</b>.
  - 즉 프론트 서버가 브라우저에게 화면은 내려주는데 데이터가 없다. 데이터가 없으면 프론트엔드는 로딩창을 띄어줘야 한다. 그러면서 바로 브라우저는 프론트 서버 말고 백엔드 서버에다가 /post 게시글들을 요청하고 백엔드 서버는 데이터베이스에서 실제 게시글 가져와서 백엔드 서버에서 받은 다음 바로 프론트 서버 말고 브라우저로 넘겨준다. 브라우저는 로딩창 없애고 백엔드 서버에서 받은 data를 그려준다.
  - 장점
    - 사용자에게 빠르게 인터렉션이(ex 로딩창) 필요할 때 (화면에 3초이상 아무것도 보이지않으면 고객들이 떠나기 때문에)
  - 단점
    - 모든 페이지를 불러와야하기 때문에 오히려 SSR보다 느려질 수 있다.
    - 검색엔진을 이용해 첫 페이지 방문했을 때 보여지는게 로딩창밖에 없다. 그래서 검색엔진에서 "이 페이지는 아무런 콘텐츠가 없고 로딩창밖에 없구나" 판단해서 검색엔진 순위에서 떨어진다.
      - 구글 검색엔진은 똑똑해서 SPA라고 판단하여 대기하면 data가 오는 것을 알아차리는 반면 국내 등 다른 페이지를 방문하면 판단을 못한다.
  - 단점을 보완할 해결법
    - 검색엔진 (SEO)을 위한 SSR
      - Pre-Rendering
        - 검색엔진이라는 것을 알아차린 다음 검색엔진일때에만 백엔드 서버에서 데이터 를 받아서 Html 완성해서 전달한다.
        - 일반 고객일때에는 기존 React 방식으로 준다.
      - SSR
        - 첫 방문만 전통적인 방식으로 모든 페이지를 불러온다.
        - 그 다음부터는 React 방식으로 코드 스플리팅으로 필요한 페이지들만 불러온다.
    - 코드 스플리팅 (code spliiting)
      - js 파일을 쪼개서 프론트 서버에서 해당 페이지 파일만 받아온다.
      - 프론트 서버에서 브라우저로 data없이 html js 모든 파일을 돌려주는데 모든 화면을 전부 담아서 돌려주기 때문에 비효율 적이다.
      - ex) 블로그 페이지만 불러오면 되는데 about페이지 등 방문하지도 않을 페이지들까지 불러오기 때문

- SEO 문제로 SSR with Hydration 기법으로 React + Next.JS 처음엔 SSR을 하고, 그 후 다른 페이지들에선 CSR를 이용하는 방식이다.
- 리액트를 사용한 프레임 워크이며 실무를 위해 갖춰진 것이 많다.
- 프레임워크 특성상 정해진 틀 안에서 코딩의 자유도는 떨어진다
- 가장 큰 장점은 서버사이드 렌더링이다.

- 서버사이드 렌더링(SSR) 은 언제 사용해야할까?

  - SEO 노출 필요성
  - 서버 캐싱 적용 (사용자 경험 개선) - ex) 페이지 로딩 제거
  - 반대로 언제 필요 없을까?
    - 대표적으로 admin 페이지
      - 검색엔진에 노출 될 이유가 없다.
      - 조금 느리다고해서 관리자들은 불편하겠지만 고객들 입장에서는 반응속도가 중요한 것 만큼 관리자한테 중요하지 않는다. 이럴 때 admin 페이지등 만들 때 복잡하게 생각하지말고 Next말고 React 사용한다.
      - 웬만한 B2C(기업이 소비자 상대로 행하는 인터넷 비지니스)서비스 할 때에는 Next 같은 SSR 지원하는 프레임워크를 고려해본다.

- [SSR과 CSR 참고 사이트](https://d2.naver.com/helloworld/7804182)
- Next에서 `Head` 를 지원해준다. `import Head from 'next/head';`

  <br>

## Ant Design

  <br>

```
npm i antd
npm i @ant-design/icons
```
